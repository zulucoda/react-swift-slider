'use strict';
Object.defineProperty(exports, '__esModule', { value: !0 });
var e = require('react'),
  t = require('prop-types'),
  n = require('styled-components');
function r(e) {
  return e && 'object' == typeof e && 'default' in e ? e : { default: e };
}
var i = r(e),
  a = r(t),
  o = r(n);
function l(e, t, n) {
  return (
    t in e
      ? Object.defineProperty(e, t, {
          value: n,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = n),
    e
  );
}
function s(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(e);
    t &&
      (r = r.filter(function (t) {
        return Object.getOwnPropertyDescriptor(e, t).enumerable;
      })),
      n.push.apply(n, r);
  }
  return n;
}
function c(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = null != arguments[t] ? arguments[t] : {};
    t % 2
      ? s(Object(n), !0).forEach(function (t) {
          l(e, t, n[t]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
      : s(Object(n)).forEach(function (t) {
          Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
        });
  }
  return e;
}
function u(e, t) {
  return (
    t || (t = e.slice(0)),
    Object.freeze(
      Object.defineProperties(e, { raw: { value: Object.freeze(t) } }),
    )
  );
}
function f(e, t) {
  return (
    (function (e) {
      if (Array.isArray(e)) return e;
    })(e) ||
    (function (e, t) {
      if ('undefined' == typeof Symbol || !(Symbol.iterator in Object(e)))
        return;
      var n = [],
        r = !0,
        i = !1,
        a = void 0;
      try {
        for (
          var o, l = e[Symbol.iterator]();
          !(r = (o = l.next()).done) && (n.push(o.value), !t || n.length !== t);
          r = !0
        );
      } catch (e) {
        (i = !0), (a = e);
      } finally {
        try {
          r || null == l.return || l.return();
        } finally {
          if (i) throw a;
        }
      }
      return n;
    })(e, t) ||
    (function (e, t) {
      if (!e) return;
      if ('string' == typeof e) return d(e, t);
      var n = Object.prototype.toString.call(e).slice(8, -1);
      'Object' === n && e.constructor && (n = e.constructor.name);
      if ('Map' === n || 'Set' === n) return Array.from(e);
      if (
        'Arguments' === n ||
        /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
      )
        return d(e, t);
    })(e, t) ||
    (function () {
      throw new TypeError(
        'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
      );
    })()
  );
}
function d(e, t) {
  (null == t || t > e.length) && (t = e.length);
  for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
  return r;
}
var p,
  h,
  g,
  v,
  m = 'prev',
  b = 'next',
  w = {
    swiftSliderContainerClass: 'swift-slider-container',
    swiftSliderSlidesClass: 'swift-slider-slides',
    swiftSliderDotsClass: 'swift-slider-dots',
    swiftSliderDotClass: 'swift-slider-dot',
    swiftSliderActiveDotClass: 'swift-slider-active-dot',
    swiftSliderSlideClass: 'swift-slider-slide',
    swiftSliderActiveSlideClass: 'swift-slider-active-slide',
    swiftSliderPreviousBtnClass: 'swift-slider-prev-btn',
    swiftSliderNextBtnClass: 'swift-slider-next-btn',
  },
  y = c(
    {},
    Object.keys(w)
      .map(function (e) {
        return l({}, e, '.'.concat(w[e]));
      })
      .reduce(function (e, t) {
        return c(c({}, e), t);
      }, {}),
  ),
  C = o.default.li(
    p ||
      (p = u([
        '\n  background-position: center;\n  background-size: cover;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: ',
        ';\n  opacity: ',
        ";\n  transition: opacity 1s linear;\n  background-image: url('",
        "');\n",
      ])),
    function (e) {
      return e.active ? '2' : '0';
    },
    function (e) {
      return e.active ? 1 : 0;
    },
    function (e) {
      return e.backgroundImage;
    },
  );
function S(e) {
  var t = e.src,
    n = e.active,
    r = n ? w.swiftSliderActiveSlideClass : w.swiftSliderSlideClass;
  return i.default.createElement(C, {
    backgroundImage: t,
    active: n,
    className: r,
  });
}
var x,
  O = o.default.div(
    h ||
      (h = u([
        '\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  z-index: 10;\n  padding: 0 2rem;\n  width: 30%;\n  height: ',
        'px;\n  cursor: pointer;\n  align-items: center;\n',
      ])),
    function (e) {
      return e.height;
    },
  ),
  j = o.default(O)(
    g ||
      (g = u([
        '\n  left: 0;\n  &:hover {\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.5), transparent);\n  }\n',
      ])),
  ),
  P = o.default(O)(
    v ||
      (v = u([
        '\n  right: 0;\n  &:hover {\n    background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.5));\n  }\n',
      ])),
  );
function E(e) {
  var t = e.onPressNext,
    n = e.onPressPrev,
    r = e.direction,
    a = e.height;
  return r === m
    ? i.default.createElement(j, {
        onClick: n,
        height: a,
        className: w.swiftSliderPreviousBtnClass,
      })
    : i.default.createElement(P, {
        onClick: t,
        height: a,
        className: w.swiftSliderNextBtnClass,
      });
}
var k,
  D,
  N,
  A = o.default.li(
    x ||
      (x = u([
        '\n  width: 0.5rem;\n  height: 0.5rem;\n  border-radius: 20px;\n  margin: 0 1rem;\n  cursor: pointer;\n  background: ',
        ';\n',
      ])),
    function (e) {
      return e.background;
    },
  );
function I(e) {
  var t = e.active,
    n = e.onClick,
    r = e.idx,
    a = e.activeDotColor,
    o = e.dotColor,
    l = t ? w.swiftSliderActiveDotClass : w.swiftSliderDotClass;
  return i.default.createElement(A, {
    onClick: function () {
      return n(r);
    },
    background: t ? a : o,
    className: l,
  });
}
var z = o.default.div(
    k ||
      (k = u([
        '\n  position: relative;\n  height: ',
        'px;\n  @media (max-width: 600px) {\n    height: 250px;\n  }\n',
      ])),
    function (e) {
      return e.height || '450';
    },
  ),
  R = o.default.ul(
    D ||
      (D = u([
        '\n  position: relative;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  height: ',
        'px;\n  @media (max-width: 600px) {\n    height: 250px;\n  }\n',
      ])),
    function (e) {
      return e.height || '450';
    },
  ),
  q = o.default.ul(
    N ||
      (N = u([
        '\n  list-style: none;\n  margin: 1.7rem 0;\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  @media (max-width: 600px) {\n    margin: 1rem 0;\n  }\n',
      ])),
  );
function B(t) {
  var n = t.data,
    r = t.height,
    a = t.activeDotColor,
    o = t.interval,
    l = t.dotColor,
    s = t.showDots,
    c = t.enableNextAndPrev,
    u = f(e.useState(0), 2),
    d = u[0],
    p = u[1],
    h = f(e.useState(o), 2),
    g = h[0],
    v = h[1];
  !(function (t, n) {
    var r = e.useRef();
    e.useEffect(function () {
      r.current = t;
    }),
      e.useEffect(
        function () {
          var e = setInterval(function () {
            r.current();
          }, n);
          return function () {
            return clearInterval(e);
          };
        },
        [n],
      );
  })(function () {
    y();
  }, g),
    e.useEffect(
      function () {
        n.forEach(function (e) {
          new Image().src = e.src;
        });
      },
      [n],
    );
  var y = function () {
      if (d === n.length - 1) return p(0);
      p(d + 1);
    },
    C = function (e) {
      p(e), v(g - 1);
    };
  return i.default.createElement(
    z,
    { height: r, className: w.swiftSliderContainerClass },
    i.default.createElement(
      R,
      { height: r, className: w.swiftSliderSlidesClass },
      n.map(function (e, t) {
        return i.default.createElement(S, {
          active: t === d,
          src: e.src,
          key: e.id,
        });
      }),
    ),
    s
      ? i.default.createElement(
          q,
          { className: w.swiftSliderDotsClass },
          n.map(function (e, t) {
            return i.default.createElement(I, {
              activeDotColor: a,
              dotColor: l,
              key: t,
              active: t === d,
              onClick: C,
              idx: t,
            });
          }),
        )
      : '',
    c
      ? i.default.createElement(E, {
          onPressPrev: function () {
            if (0 === d) return p(n.length - 1);
            p(d - 1), v(g + 1);
          },
          direction: m,
          height: r,
        })
      : '',
    c
      ? i.default.createElement(E, { onPressNext: y, direction: b, height: r })
      : '',
  );
}
(B.propTypes = {
  data: a.default.array.isRequired,
  height: a.default.number,
  interval: a.default.number,
  activeDotColor: a.default.string,
  dotColor: a.default.string,
  showDots: a.default.bool,
  enableNextAndPrev: a.default.bool,
}),
  (B.defaultProps = c(
    {},
    {
      data: [],
      height: 450,
      activeDotColor: '#e8784e',
      interval: 5e3,
      dotColor: '#909192',
      showDots: !0,
      enableNextAndPrev: !0,
    },
  )),
  (exports.CSS_OVERRIDE_EXTERNAL = y),
  (exports.default = B);
